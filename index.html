<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="output.css" />
  <title>Clash of Clans Calculator</title>
  <style>
    @keyframes moveAround {
      0%   { top: 0; left: 0; }
      25%  { top: 0; left: calc(100vw - 120px); }
      50%  { top: calc(100vh - 120px); left: calc(100vw - 120px); }
      75%  { top: calc(100vh - 120px); left: 0; }
      100% { top: 0; left: 0; }
    }

.moving-img {
  position: absolute;
  animation: moveAround 8s infinite linear;
}
  </style>
</head>

<body class="bg-black min-h-screen flex items-center justify-center px-4 py-8">

    <img src="../images/gatwo.jpg" class="h-[200px] moving-img alt="">

  <div class="bg-[url('../images/gat2.jpg')] bg-center bg-cover w-full max-w-md sm:max-w-lg bg-white/10 backdrop-blur-md border border-yellow-700 rounded-2xl shadow-[0_0_20px_rgba(255,215,0,0.3)] p-6 sm:p-8">
    <h1 class="bg-gradient-to-r text-transparent bg-clip-text from-yellow-400 via-yellow-500 to-yellow-700 font-bold text-2xl sm:text-3xl text-center border-b border-yellow-700 pb-3 mb-6">
      Clash of Clans Calculator
    </h1>

    <div class="flex flex-col mb-6">
      <label class="text-white font-semibold mb-2 text-sm sm:text-base">Days to Calculate</label>
      <input class="days_input p-3 text-base sm:text-lg rounded-md bg-gray-800/70 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition" type="number" step="0.1" placeholder="e.g. 3.6">
    </div>

    <div class="flex flex-col mb-6">
      <div class="flex gap-2 items-center mb-2">
        <img src="../images/builderPotion.png" class="rounded-xl h-[24px] sm:h-[32px]" alt="">
        <label class="text-white font-semibold text-sm sm:text-base">Builder Potions</label>
      </div>
      <input class="builder_input p-3 text-base sm:text-lg rounded-md bg-gray-800/70 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition" type="number" placeholder="e.g. 10">
    </div>

    <div class="flex flex-col mb-8">
      <div class="flex gap-2 items-center mb-2">
        <img src="../images/apprenticebuilder.webp" class="rounded-xl h-[40px] sm:h-[50px]" alt="">
        <label class="text-white font-semibold text-sm sm:text-base">Apprentice Builder Level</label>
      </div>
      <input class="apprentice_input p-3 text-base sm:text-lg rounded-md bg-gray-800/70 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition" type="number" min="1" max="8" value="1" placeholder="1–8">
    </div>

    <button class="calculate bg-yellow-600 text-gray-900 font-bold py-3 sm:py-4 rounded-lg w-full border-l-4 border-b-2 border-yellow-800 hover:bg-yellow-500 transition active:scale-95">
      Calculate
    </button>

    <p class="error text-red-500 font-semibold text-sm sm:text-base mt-4 text-center"></p>
    <p class="result text-yellow-300 font-semibold text-lg sm:text-xl mt-4 text-center"></p>
  </div>

  <script>
    const calculate = document.querySelector('.calculate');
    const result = document.querySelector('.result');
    const error = document.querySelector('.error');

    calculate.addEventListener('click', () => {
      const days = parseFloat(document.querySelector(".days_input").value) || 0;
      const potions = parseInt(document.querySelector(".builder_input").value) || 0;
      const apprenticeLevel = parseInt(document.querySelector(".apprentice_input").value) || 0;

      error.textContent = "";
      result.textContent = "";

      if (apprenticeLevel < 1 || apprenticeLevel > 8) {
        error.textContent = "❌ Apprentice Builder Level must be between 1 and 8.";
        return;
      }

      const hoursPerDay = 24;
      const potionEffect = 9;
      const apprenticeEffect = apprenticeLevel;

      let totalHours = days * hoursPerDay;
      let remainingHours = totalHours - (potions * potionEffect) - apprenticeEffect;
      if (remainingHours < 0) remainingHours = 0;

      const finalDays = remainingHours / hoursPerDay;
      const remainingWholeDays = Math.floor(finalDays);
      const remainingHoursOnly = ((finalDays - remainingWholeDays) * 24).toFixed(1);

      result.textContent = `⏱️ Final build time: ${remainingWholeDays} days and ${remainingHoursOnly} hours`;
    });
  </script>
</body>
</html>
